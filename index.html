<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spades Score Tracker â€“ Individual Players</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    input[type="number"] { width: 50px; }
    input[type="checkbox"] { transform: scale(1.2); }
    .totals { font-weight: bold; margin-top: 10px; }
    button { margin-top: 10px; padding: 8px 12px; }
  </style>
</head>
<body>

  <h2>Spades Score Tracker (Individual Players)</h2>

  <table id="scoreTable">
    <thead>
      <tr>
        <th rowspan="2">Round</th>
        <th colspan="3">Team A - Player A1</th>
        <th colspan="3">Team A - Player A2</th>
        <th colspan="3">Team B - Player B1</th>
        <th colspan="3">Team B - Player B2</th>
        <th>Team A Points</th>
        <th>Team B Points</th>
      </tr>
      <tr>
        <th>Bid</th><th>Nil?</th><th>Tricks</th>
        <th>Bid</th><th>Nil?</th><th>Tricks</th>
        <th>Bid</th><th>Nil?</th><th>Tricks</th>
        <th>Bid</th><th>Nil?</th><th>Tricks</th>
        <th></th><th></th>
      </tr>
    </thead>
    <tbody id="scoreBody">
    </tbody>
  </table>

  <div class="totals">
    Team A Total: <span id="teamATotal">0</span> |
    Team B Total: <span id="teamBTotal">0</span>
  </div>

  <button onclick="addRound()">Add Round</button>

  <script>
    let roundCount = 0;
    let teamATotal = 0, teamBTotal = 0;

    function createPlayerInputs(prefix) {
      return `
        <td><input type="number" class="bid${prefix}" min="0" value="0" onchange="updateScores()"></td>
        <td><input type="checkbox" class="nil${prefix}" onchange="updateScores()"></td>
        <td><input type="number" class="tricks${prefix}" min="0" value="0" onchange="updateScores()"></td>
      `;
    }

    function addRound() {
      roundCount++;
      const tbody = document.getElementById("scoreBody");
      const row = document.createElement("tr");

      row.innerHTML = `
        <td>${roundCount}</td>
        ${createPlayerInputs('A1')}
        ${createPlayerInputs('A2')}
        ${createPlayerInputs('B1')}
        ${createPlayerInputs('B2')}
        <td class="teamAPoints">0</td>
        <td class="teamBPoints">0</td>
      `;

      tbody.appendChild(row);
    }

    function updateScores() {
      const rows = document.querySelectorAll("#scoreBody tr");
      teamATotal = 0;
      teamBTotal = 0;

      rows.forEach(row => {
        let teamAPoints = 0;
        let teamBPoints = 0;

        const players = ['A1', 'A2', 'B1', 'B2'];
        let teamABid = 0, teamATricks = 0;
        let teamBBid = 0, teamBTricks = 0;

        players.forEach(p => {
          const bid = parseInt(row.querySelector(`.bid${p}`).value) || 0;
          const tricks = parseInt(row.querySelector(`.tricks${p}`).value) || 0;
          const nil = row.querySelector(`.nil${p}`).checked;

          if (p.startsWith('A')) {
            teamATricks += tricks;
            if (nil) {
              teamAPoints += (tricks === 0 ? 100 : -100);
            } else {
              teamABid += bid;
            }
          } else {
            teamBTricks += tricks;
            if (nil) {
              teamBPoints += (tricks === 0 ? 100 : -100);
            } else {
              teamBBid += bid;
            }
          }
        });

        if (teamATricks >= teamABid) {
          teamAPoints += teamABid * 10 + (teamATricks - teamABid); // bags
        }

        if (teamBTricks >= teamBBid) {
          teamBPoints += teamBBid * 10 + (teamBTricks - teamBBid);
        }

        row.querySelector(".teamAPoints").textContent = teamAPoints;
        row.querySelector(".teamBPoints").textContent = teamBPoints;

        teamATotal += teamAPoints;
        teamBTotal += teamBPoints;
      });

      document.getElementById("teamATotal").textContent = teamATotal;
      document.getElementById("teamBTotal").textContent = teamBTotal;
    }
  </script>

</body>
</html>


</body>
</html>
